<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
<meta name='apple-touch-fullscreen'       content='yes'>
<meta name='apple-mobile-web-app-capable' content='yes'>
<meta name='apple-mobile-web-app-status-bar-style' content='rgba(228,228,228,1.0)'>

<title>Module: Mongo::ClusterTime::Consumer &mdash; Mongo master</title>

<link rel='stylesheet'  type='text/css' href='../../../css/y_fonts.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/highlight.github.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_style.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_list.css' />
<link rel='stylesheet'  type='text/css' href='../../../css/y_color.css' />

<script type='text/javascript'>
  var pathId = "Mongo::ClusterTime::Consumer",
    relpath = '../../';

  var t2Info = {
    CSEP: '.',
    ISEP: '#',
    NSEP: '::'
  };
</script>

<script type='text/javascript' charset='utf-8' src='../../../js/highlight.pack.js'></script>
<script type='text/javascript' charset='utf-8' src='../../../js/y_app.js'></script>

</head>
<body>
<svg id='y_wait' class viewBox='0 0 90 90'></svg>
<div id='settings' class='hidden'></div>
<div id='y_list' class='d h'>
  <header id='list_header'></header>
  <nav id= 'list_nav' class='y_nav l_nav'>
    <ul id='list_items'></ul>
  </nav>
</div>
<div id='y_toc' class='f h'>
  <header id='toc_header'></header>
  <nav id= 'toc_nav' class='y_nav t_nav'>
  <ol id='toc_items'></ol>
  </nav>
</div>
<div id='y_main' tabindex='-1'>
  <header id='y_header'>
    <div id='y_menu'>
      <a id='home_no_xhr' href='/'>Home</a> &raquo; 
      <a href='../../'>Mongo master</a> &raquo; 
      <a href='../../_index.html#alpha_C'>Index (C)</a> &raquo; 
        <a href="../../Mongo.html" title="Mongo (module)">Mongo</a> &raquo; 
        <a class='nodoc' href="../ClusterTime.html" title="Mongo::ClusterTime (class)">ClusterTime</a> &raquo; 
      <span class='title'><a id='t2_doc_top' href='#'>Consumer&nbsp;&#x25B2;</a></span>
    </div>

    <a id='list_href' href="../../class_list.html"></a>
    <div id='y_measure_em' class='y_measure'></div>
    <div id='y_measure_vh' class='y_measure'></div>
    <span id='y_measure_50pre' class='y_measure'><code>123456789_123456789_123456789_123456789_123456789_</code></span>
  </header>
<div id='content' class='module'>
<h1>Module: Mongo::ClusterTime::Consumer  <span class='private note title'>Private</span>
</h1>
<div id='t2_rel_sf_div'>
<table id='t2_rel_sf' class='y_box'>
  <thead>
    <tr><td id='t2_relations' colspan='2'>Relationships & Source Files</td></tr>
  </thead>
  <tbody>
    <tr><td class='box_h' colspan='2'>Extension / Inclusion / Inheritance Descendants</td></tr>
    <tr><td colspan='2'>
      <div class='box_1'>Included In:</div>
      <div class='box_11'>
        <a href="../Cluster.html" title="Mongo::Cluster (class)"><code>::Mongo::Cluster</code></a>,
          <a href="../Session.html" title="Mongo::Session (class)"><code>::Mongo::Session</code></a>
      </div>
    </td></tr>
    <tr class='single'>
      <td id='t2_defined_in' class='box_2'>Defined in:</td>
      <td class='box_rel'><a class='repo' href='https://github.com/mongodb/mongo-ruby-driver/blob/master/lib/mongo/cluster_time.rb#L112'>lib/mongo/cluster_time.rb</a>      </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id='h2_overview'>Overview</h2>
<div id='overview_ds'>
<div class='docstring'>
  <div class='discussion'>
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>Although attributes and methods defined in this module are part of the public API for the classes including this module, the fact that the methods are defined on this module and not directly on the including classes is not part of the public API.</p>
</div>
  </div>


<p>This module provides common cluster time tracking behavior.</p>

  </div>
</div>
<div class='tags'>
  
</div>
</div>
<h2 class='h2_sum' id='instance_attribute_summary'>Instance Attribute Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature ro'>
      <a href="#cluster_time-instance_method" title="#cluster_time (instance method)">#<strong>cluster_time</strong>  &#x21d2; nil | ClusterTime </a>
    </span>
    <span class='note title readonly'>readonly</span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>The cluster time tracked by the object including this module.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_attribute_summary -->

<h2 class='h2_sum' id='instance_method_summary'>Instance Method Summary</h2>
<div class='div_sum'>
<ul class='summary full'>
  <li>
    <span class='summary_signature '>
      <a href="#advance_cluster_time-instance_method" title="#advance_cluster_time (instance method)">#<strong>advance_cluster_time</strong>(new_cluster_time)  &#x21d2; ClusterTime </a>
    </span>
    <span class='nodoc note title'>Internal use only</span>
    <div class='summary_desc'>
      <div class='inline'><p>Advance the tracked cluster time document for the object including this module.</p></div>
    </div>
  </li>
</ul>
</div>  <!-- instance_method_summary -->
<h2 class='y_details'>Instance Attribute Details</h2>
<section class='method_details first' id="cluster_time-instance_method">
  <h3 class='signature ro first'>
    #<strong>cluster_time</strong>  &#x21d2; <code>nil</code> | <a href="../ClusterTime.html" title="Mongo::ClusterTime (class)">ClusterTime</a>  <span class="extras">(<span class='readonly'>readonly</span>)</span>
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>The cluster time tracked by the object including this module.</p>

<p>Changed in version 2.9.0: This attribute became an instance of <a href="../ClusterTime.html" title="Mongo::ClusterTime (class)"><code>::Mongo::ClusterTime</code></a>, which is a subclass of BSON::Document. Previously it was an instance of BSON::Document.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<code>nil</code> | <a href="../ClusterTime.html" title="Mongo::ClusterTime (class)">ClusterTime</a>)</span>
&mdash;    <div class='inline'>
<p>The cluster time.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>2.5.0</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongo-ruby-driver/blob/master/lib/mongo/cluster_time.rb#L123-L123'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='123' data-end='123'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongo/cluster_time.rb', line 123</span></pre>
<pre class='code ruby'>

<span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbeg'>:</span><span class='id identifier rubyid_cluster_time'>cluster_time</span>
</pre>
  </div>
</div>
</section>

<h2 class='y_details'>Instance Method Details</h2>
<section class='method_details first' id="advance_cluster_time-instance_method">
  <h3 class='signature  first'>
    #<strong>advance_cluster_time</strong>(new_cluster_time)  &#x21d2; <a href="../ClusterTime.html" title="Mongo::ClusterTime (class)">ClusterTime</a> 
  </h3>
<div class='docstring'>
  <div class='discussion'>
    
<p>Advance the tracked cluster time document for the object including this module.</p>

  </div>
</div>
<div class='tags'>
  <p class='tag_title'>Parameters:</p>
<ul class='param'>
  <li>
    <span class='name'>new_cluster_time</span>
    <span class='type'>(<code>BSON::Document</code>)</span>
&mdash;    <div class='inline'>
<p>The new cluster time document.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Returns:</p>
<ul class='return'>
  <li>
    <span class='type'>(<a href="../ClusterTime.html" title="Mongo::ClusterTime (class)">ClusterTime</a>)</span>
&mdash;    <div class='inline'>
<p>The resulting cluster time.</p>
</div>
  </li>
</ul>
<p class='tag_title'>Since:</p>
<ul class='since'>
  <li>
    <div class='inline'>
<p>2.5.0</p>
</div>
  </li>
</ul>

</div>
  <span class='link_repo'>[&#8202;<a class='repo' href='https://github.com/mongodb/mongo-ruby-driver/blob/master/lib/mongo/cluster_time.rb#L133-L139'>GitHub</a>&#8202;]</span>
<div class='source_code h'>
  <pre class='lines_num' data-start='133' data-end='139'></pre>
  <div class='lines_code'>
<pre><span class='info file'># File 'lib/mongo/cluster_time.rb', line 133</span></pre>
<pre class='code ruby'>

<span class='kw'>def</span> <span class='id identifier rubyid_advance_cluster_time'>advance_cluster_time</span>(<span class='id identifier rubyid_new_cluster_time'>new_cluster_time</span>)
  <span class='kw'>if</span> <span class='ivar'>@cluster_time</span>
    <span class='ivar'>@cluster_time</span> <span class='op'>=</span> <span class='ivar'>@cluster_time</span>.<span class='id identifier rubyid_advance'><a href="../ClusterTime.html#advance-instance_method" title="Mongo::ClusterTime#advance (method)">advance</a></span>(<span class='id identifier rubyid_new_cluster_time'>new_cluster_time</span>)
  <span class='kw'>else</span>
    <span class='ivar'>@cluster_time</span> <span class='op'>=</span> <span class='const'><a href="../ClusterTime.html" title="Mongo::ClusterTime (class)">ClusterTime</a></span>[<span class='id identifier rubyid_new_cluster_time'>new_cluster_time</span>]
  <span class='kw'>end</span>
<span class='kw'>end</span>
</pre>
  </div>
</div>
</section>


<div id='footer'></div>
</div> <!-- content  -->
</div> <!-- y_main   -->
</body>
</html>